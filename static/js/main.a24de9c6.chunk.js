(this.webpackJsonpdiscography=this.webpackJsonpdiscography||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(29)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),i=a.n(c),l=a(1);a(17),a(18);var s=function(e){var t=e.label,a=e.isLoading;return r.a.createElement("div",{className:"artist-list-title"},r.a.createElement("h2",null,t,!0===a&&r.a.createElement("span",null,"Loading...")))};var u=function(){var e=0;return function(t,a){clearTimeout(e),e=setTimeout(t,a)}}(),o=function(e){var t=e.searchValue,a=e.cbChangeSearchValue,n=e.cbChange;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"artist-search-box"},"Type an artist name "),r.a.createElement("input",{id:"artist-search-box",type:"text",className:"artist-search-box",size:35,value:t,onChange:function(e){a(e.target.value)},onKeyUp:function(){u((function(){n(t)}),400)}}))},m=(a(19),a(2));var h=function(e){var t=e.artist;return r.a.createElement("li",{className:"artist"},r.a.createElement(m.a,{to:"artist/"+t.id,state:{artistName:t.name}},r.a.createElement("span",{className:"artis-name"},t.name)),t.disambiguation&&r.a.createElement("span",{className:"artist-disambiguation"}," ","(",t.disambiguation,")"))};var f=function(e){var t=e.MusicBrainzApi,a=e.searchValue,c=e.cbChangeSearchValue,i=Object(n.useState)([]),u=Object(l.a)(i,2),m=u[0],f=u[1],d=Object(n.useState)(!1),v=Object(l.a)(d,2),b=v[0],p=v[1],E=function(e){p(!0);var a=new t,n=encodeURI(e),r="artist/?query=artist:%22".concat(n,"%22");a.query(r).then((function(e){return e.json()})).then((function(e){f(e.artists||[]),p(!1)}))};return Object(n.useEffect)((function(){a&&E(a)}),[]),r.a.createElement("div",{className:"artist-list"},r.a.createElement(s,{label:"Artists",isLoading:b}),r.a.createElement(o,{searchValue:a,cbChangeSearchValue:c,cbChange:E}),r.a.createElement("ul",null,m.map((function(e){return r.a.createElement(h,{key:e.id,artist:e})}))))},d=a(9);a(26),a(27);var v=function(e){var t=e.year,a=e.label;return r.a.createElement("div",{className:"album-title"},r.a.createElement("span",{className:"album-title-label"},a),r.a.createElement("span",{className:"album-title-year"}," (",t,")"))};var b=function(e){var t=e.song;return r.a.createElement("div",{className:"song"},r.a.createElement("span",{className:""},t.number),r.a.createElement("span",null," ",t.title))};var p=function(e){var t=e.songList;return r.a.createElement("div",{className:"song-list"},t.map((function(e){return r.a.createElement(b,{key:e.id,song:e})})))};var E=function(e){var t=e.album;return r.a.createElement("div",{className:"album"},r.a.createElement(v,{label:t.title,year:t.year}),r.a.createElement(p,{songList:t.tracks}))};a(28);var g=function(e){var t=e.label;return r.a.createElement("div",{className:"album-list-title"},r.a.createElement("h2",null,t," ",r.a.createElement("span",{className:"back-button"},r.a.createElement(m.a,{to:"/"},"Back"))))};function y(e){if(!e)return"";var t=e.split("-");return t.length>0?t[0]:""}var N=function(e){var t=e.id,a=e.MusicBrainzApi,c=e.location.state.artistName,i=Object(n.useState)([]),s=Object(l.a)(i,2),u=s[0],o=s[1];return Object(n.useEffect)((function(){var e=new a,n=encodeURI(t),r="release?artist=".concat(n,"&inc=recordings");e.query(r).then((function(e){return e.json()})).then((function(e){var t=function(e){var t=[],a=[];e.sort((function(e,t){return t.date?e.date&&e.date<=t.date?-1:1:-1}));var n,r=Object(d.a)(e);try{var c=function(){var e=n.value;return"Official"!==e.status||!0===a.includes(e.title)?"continue":(a.push(e.title),void e.media.forEach((function(a){var n={id:e.id,title:e.title,year:y(e.date),tracks:[]};a.tracks.forEach((function(e){n.tracks.push({id:e.id,title:e.title,duration:parseInt(e.length/1e3),number:e.position})})),t.push(n)})))};for(r.s();!(n=r.n()).done;)c()}catch(i){r.e(i)}finally{r.f()}return t}(e.releases);o(t||[])}))}),[t,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{label:c}),r.a.createElement("div",{className:"album-list"},u.map((function(e){return r.a.createElement(E,{key:e.id,album:e})}))))},j=a(10),k=a(11),O=function(){function e(){Object(j.a)(this,e)}return Object(k.a)(e,[{key:"query",value:function(e){var t=new Request("https://musicbrainz.org/ws/2/".concat(e,"&limit=100&fmt=json"),{method:"GET",headers:{"User-Agent":"Discography/0.0.0 (davidquintu@gmail.com)"}});return fetch(t)}}]),e}();var w=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"app"},r.a.createElement("h1",null,"Discography"),r.a.createElement("p",null,"Search for an artist and display its discography."),r.a.createElement("p",null,"This app is powered by the"," ",r.a.createElement("a",{href:"https://musicbrainz.org/"},"MusicBrainz")," API,"," ",r.a.createElement("a",{href:"https://reactjs.org"},"React")," and many other open source projects."),r.a.createElement(m.b,null,r.a.createElement(f,{path:"/",MusicBrainzApi:O,searchValue:a,cbChangeSearchValue:c}),r.a.createElement(N,{path:"artist/:id",MusicBrainzApi:O})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.a24de9c6.chunk.js.map